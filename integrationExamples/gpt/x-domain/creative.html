// this script can be returned by an ad server delivering a cross domain iframe, into which the
// creative will be rendered, e.g. GAM delivering a SafeFrame

// this code is autogenerated, also available in 'build/creative/creative.js'
<script>!function(){"use strict";var e=JSON.parse('{"FP":{"h0":"adRenderFailed","gV":"adRenderSucceeded"},"q_":{"Ex":"noAd","XW":"exception"}}');const n=e.FP.gV,t=e.FP.h0,s=e.q_.Ex,r=e.q_.XW,a={frameBorder:0,scrolling:"no",marginHeight:0,marginWidth:0,topMargin:0,leftMargin:0,allowTransparency:"true"};window.renderAd=function(e=window){return function({adId:i,pubUrl:o,clickUrl:c}){const d=new URL(o,window.location).origin;function g(n,t,s){e.parent.postMessage(JSON.stringify(Object.assign({message:n,adId:i},t)),d,s)}function l(e){g("Prebid Event",{event:null==e?n:t,info:e})}function u(n){let t={};try{t=JSON.parse(n[n.message?"message":"data"])}catch(e){return}if("Prebid Response"===t.message&&t.adId===i)try{!function({ad:e,adUrl:n,width:t,height:r},i,o=document){if(e||n){const s={width:t,height:r};n&&!e?s.src=n:s.srcdoc=e,function(e,n){const t=e.createElement("iframe");n=Object.assign({},n,a),Object.entries(n).forEach((([e,n])=>t.setAttribute(e,n))),e.body.appendChild(t)}(o,s),i()}else i({reason:s,message:"Missing ad markup or URL"})}(t,l,e.document)}catch(e){l({reason:r,message:e.message})}}const m=new MessageChannel;m.port1.onmessage=u,g("Prebid Request",{options:{clickUrl:c}},[m.port2]),e.addEventListener("message",u,!1)}}()}();</script>

<script>
    renderAd({
        adId: '%%PATTERN:hb_adid%%',
        pubUrl: '%%PATTERN:url%%',
        clickUrl: '%%CLICK_URL_UNESC%%'
    });
</script>
